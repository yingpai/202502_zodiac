#!/bin/bash

# 1️⃣ 輸入使用者名稱
name=$(dialog --backtitle "本週星座運勢快報 2/26~3/3" --title "===== 資訊輸入框 =====" --inputbox "\n請輸入你的名字:" 10 50 3>&1 1>&2 2>&3 3>&-)

# 2️⃣ 使用選單選擇星座
zodiac_sign=$(dialog --title "===== $name =====" --menu "請選擇你的星座:" 20 50 12 \
    1 "牡羊座" \
    2 "金牛座" \
    3 "雙子座" \
    4 "巨蟹座" \
    5 "獅子座" \
    6 "處女座" \
    7 "天秤座" \
    8 "天蠍座" \
    9 "射手座" \
    10 "摩羯座" \
    11 "水瓶座" \
    12 "雙魚座" 3>&1 1>&2 2>&3 3>&-)

# 3️⃣ 根據星座提供優缺點與運勢
case $zodiac_sign in
    1) sign="牡羊座"
       description="牡羊座勇敢果斷，充滿活力，適合領導。但容易衝動，性格火爆，時常因為過於急躁而做出衝動決定。"
       fortune="本週運勢：行動力十足，但小心別太衝動，避免與他人發生衝突！" ;;
    2) sign="金牛座"
       description="金牛座腳踏實地、誠實可靠，對待工作有耐心，讓人放心。然而，固執和不容易改變的態度，有時會讓人感到困難。"
       fortune="本週運勢：財運上升，尤其是長期的投資開始見效，記得把握機會！" ;;
    3) sign="雙子座"
       description="雙子座聰明靈活、機智幽默，能快速應對各種情況。不過，他們的情緒波動大，偶爾會顯得不穩定或善變。"
       fortune="本週運勢：社交運旺，驚喜多多，遇到有趣的新朋友，記得開放心胸！" ;;
    4) sign="巨蟹座"
       description="巨蟹座溫暖體貼，重視家庭，是完美的朋友和伴侶。只是在情緒過於敏感時，容易受傷並且不願表現出脆弱。"
       fortune="本週運勢：家庭運旺，適合與家人共度時光，放下工作壓力，享受平靜的日子！" ;;
    5) sign="獅子座"
       description="獅子座自信、果斷且有領袖氣質，能吸引大家的注意。缺點是有時過於自戀，對於失敗或批評的忍受度低。"
       fortune="本週運勢：事業高峰期，展示你的領導力，但要留心他人的意見，避免驕傲自滿！" ;;
    6) sign="處女座"
       description="處女座擁有強大的分析能力，對細節的注意讓他們工作上極具優勢。不過，有時過於完美主義，挑剔的性格讓人難以接近。"
       fortune="本週運勢：注意細節，避免小錯誤，工作忙碌但充滿成就感，適合做出長期計劃！" ;;
    7) sign="天秤座"
       description="天秤座講求公平公正，擅長社交和建立良好關係。他們優柔寡斷，總是難以做出決定，甚至因為害怕衝突而回避問題。"
       fortune="本週運勢：感情上有新進展，適合與心愛的人共度美好時光，別忘了給自己一點放鬆！" ;;
    8) sign="天蠍座"
       description="天蠍座神秘且深沉，對待朋友和愛人都極具忠誠。缺點是報復心強，記仇，有時會過於專注於自己的情感世界。"
       fortune="本週運勢：注意情緒管理，避免過度投入情感，給自己一些空間呼吸，放鬆心情！" ;;
    9) sign="射手座"
       description="射手座樂觀豁達，總是充滿冒險精神，生活中總能帶來新鮮感。缺點是有些粗心大意，容易忽略細節。"
       fortune="本週運勢：短途旅行是最佳選擇，放鬆心情，感受生活中的美好！" ;;
    10) sign="摩羯座"
        description="摩羯座堅定有責任感，對工作和目標充滿執著。他們過於嚴肅，容易讓人覺得冷漠，有時對情感表達不夠。"
        fortune="本週運勢：工作繁忙，但不要忽視情感需求，適合將計劃付諸行動，堅持就是勝利！" ;;
    11) sign="水瓶座"
        description="水瓶座思維獨立，創新能力強，樂於改變世界。他們有時過於理性，忽視情感需求，可能讓身邊人感到距離。"
        fortune="本週運勢：靈感爆棚，適合嘗試新事物，創意十足，可能會有突破性的發現！" ;;
    12) sign="雙魚座"
        description="雙魚座富有同情心和創意，對藝術和夢想充滿熱情。不過，他們容易逃避現實，有時過於感性，缺乏現實感。"
        fortune="本週運勢：藝術靈感滿滿，適合從事創作，避免過度沉浸於幻想中，保持現實感！" ;;
esac

# 4️⃣ 顯示動態進度條，並模擬載入過程
( 
  for i in $(seq 0 100); do
    sleep 0.05
    echo $i
  done
) | dialog --title "===== $name =====" --gauge "\n星座資訊抓取中..." 10 30 0

# 5️⃣ 顯示星座與運勢
dialog --title "===== 2/26~3/3 本週星座運勢 =====" --msgbox "\n$name 的星座: $sign\n\n$description\n\n$fortune" 15 50

dialog --title "===== 2/26~3/3 本週星座運勢 =====" --yesno "\n$name ，你喜歡你的星座嗎? \n\n(基於個人隱私，此回應將不做留存)" 10 50

